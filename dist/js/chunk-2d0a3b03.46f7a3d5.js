(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a3b03"],{"02f1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"admin-user-index"},[e.userinfo?a("div",{staticClass:"user-info"},[a("div",{staticClass:"file-head"},[a("img",{attrs:{src:e.userinfo.avatar,alt:""}}),a("input",{attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg"},on:{change:e.handlerFileUpload}})]),a("div",{staticClass:"form-wrap"},[a("div",{staticClass:"form-item"},[a("label",{attrs:{for:""}},[e._v("昵称：")]),a("div",{staticClass:"content-text"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.name,expression:"userinfo.name"}],attrs:{type:"text"},domProps:{value:e.userinfo.name},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"name",t.target.value)}}})])]),a("div",{staticClass:"form-item"},[a("label",{attrs:{for:""}},[e._v("性别：")]),a("div",{staticClass:"content-text"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.sex,expression:"userinfo.sex"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.userinfo,"sex",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[e._v("保密")]),a("option",{attrs:{value:"1"}},[e._v("男")]),a("option",{attrs:{value:"2"}},[e._v("女")]),a("option",{attrs:{value:"9",disabled:""}},[e._v("未说明")])])])]),a("div",{staticClass:"form-item"},[a("label",{attrs:{for:""}},[e._v("邮箱：")]),a("div",{staticClass:"content-text"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.email,expression:"userinfo.email"}],attrs:{type:"email",disabled:""},domProps:{value:e.userinfo.email},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"email",t.target.value)}}})])]),a("div",{staticClass:"form-item"},[a("label",{attrs:{for:""}},[e._v("gitHub地址：")]),a("div",{staticClass:"content-text"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.gitHub,expression:"userinfo.gitHub"}],attrs:{type:"email"},domProps:{value:e.userinfo.gitHub},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"gitHub",t.target.value)}}})])]),a("div",{staticClass:"form-item"},[a("label",{attrs:{for:""}},[e._v("签名：")]),a("div",{staticClass:"content-text"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.userinfo.ones,expression:"userinfo.ones"}],attrs:{rows:"4"},domProps:{value:e.userinfo.ones},on:{input:function(t){t.target.composing||e.$set(e.userinfo,"ones",t.target.value)}}})])]),a("div",{staticClass:"form-item"},[a("Button",{staticClass:"submit-btn",attrs:{type:"black",loading:e.editLoading},on:{click:e.handlerEdit}},[e._v("保存修改")])],1)])]):e._e()])},n=[],s=(a("b449"),a("51bc")),r={name:"UserInfo",data:function(){return{form:{},editLoading:!1}},computed:{userinfo:{get:function(){return this.$root.userinfo||{}}}},mounted:function(){},methods:{handlerFileUpload:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.target.files[0],!i){a.next=11;break}return a.next=4,t.$api.uploadFile(i,"avatar-"+t.$utils.store.get("userInfo").objectId);case 4:return n=a.sent,s=n.data,a.next=8,t.$api.user.updateAvatar(s.url);case 8:t.$api.removeFile(t.userinfo.avatar),t.$root.getUserInfo(),t.$pop.message({type:"success",text:"头像修改成功"});case 11:case"end":return a.stop()}}),a)})))()},handlerEdit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editLoading=!0,t.prev=1,t.next=4,e.$api.user.update(e.userinfo);case 4:e.$root.getUserInfo(),e.$pop.notice({type:"success",title:"修改成功"}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$pop.notice({type:"error",title:"修改失败"});case 11:e.editLoading=!1;case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},o=r,u=a("4023"),l=Object(u["a"])(o,i,n,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0a3b03.46f7a3d5.js.map